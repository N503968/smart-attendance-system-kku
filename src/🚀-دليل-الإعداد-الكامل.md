# ๐ ุฏููู ุงูุฅุนุฏุงุฏ ุงููุงูู - ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุถูุฑ ุงูุฐูู
# Complete Setup Guide - Smart Attendance System

> ุฌุงูุนุฉ ุงูููู ุฎุงูุฏ | King Khalid University

---

## ๐ ูุธุฑุฉ ุนุงูุฉ | Overview

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุฅุนุฏุงุฏ ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุถูุฑ ุงูุฐูู ูู ุงูุตูุฑ ูุฑุจุทู ุจูุงุนุฏุฉ ุจูุงูุงุช Supabase.

This guide explains how to set up the Smart Attendance System from scratch and connect it to a Supabase database.

---

## โ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ | Prerequisites

- [x] ุญุณุงุจ Supabase ูุดุท | Active Supabase account
- [x] ูุนุฑู ุงููุดุฑูุน: `bscxhshnubkhngodruuj` | Project ID: `bscxhshnubkhngodruuj`
- [x] ุงูููุฏ ุงููุตุฏุฑู ูููุธุงู | System source code

---

## ๐ง ุงูุฎุทูุฉ 1: ุฅุนุฏุงุฏ Supabase

### 1.1 ุชุนุทูู ุชุฃููุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู | Disable Email Confirmation

**ููู ุฌุฏุงู!** ูุฌุจ ุชุนุทูู ุชุฃููุฏ ุงูุจุฑูุฏ ููุณูุงุญ ุจุงูุชุณุฌูู ุงูููุฑู.

**Very Important!** Email confirmation must be disabled to allow immediate registration.

1. ุงูุชุญ ููุญุฉ ุชุญูู Supabase | Open Supabase Dashboard:
   ```
   https://supabase.com/dashboard/project/bscxhshnubkhngodruuj/settings/auth
   ```

2. ุงุจุญุซ ุนู: **"Enable email confirmations"**

3. **ุฃููู ุชูุนููู** (ุงุฌุนูู OFF)

4. ุงุญูุธ ุงูุชุบููุฑุงุช | Save changes

---

### 1.2 ุชุทุจูู Schema ูุงุนุฏุฉ ุงูุจูุงูุงุช | Apply Database Schema

1. ุงูุชุญ SQL Editor ูู Supabase:
   ```
   https://supabase.com/dashboard/project/bscxhshnubkhngodruuj/sql
   ```

2. ุงูุชุญ ููู `/COMPLETE-DATABASE-SETUP.sql`

3. **ุงูุณุฎ ูู ุงููุญุชูู** (Ctrl+A ุซู Ctrl+C)

4. **ุงูุตู ูู SQL Editor** ูู Supabase

5. ุงุถุบุท **Run** (ุฃู Ctrl+Enter)

6. ุงูุชุธุฑ ุญุชู ุชุธูุฑ ุฑุณุงูุฉ ุงููุฌุงุญ โ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
โ ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ!
โ Database Setup Completed Successfully!
```

---

## ๐ฅ ุงูุฎุทูุฉ 2: ุชุณุฌูู ุงููุณุชุฎุฏููู

ุงูุขู ุณุฌูู 3 ุญุณุงุจุงุช ุชุฌุฑูุจูุฉ ุนุจุฑ ุงููููุน:

### 2.1 ุญุณุงุจ ุงููุดุฑู | Supervisor Account

1. ุงูุชุญ ุงููููุน
2. ุงุฐูุจ ุฅูู **"ุงูุชุณุฌูู" / Register**
3. ุงููุฃ ุงูุจูุงูุงุช:
   - **ุงูุงุณู ุงููุงูู:** ูุดุฑู ุงููุธุงู
   - **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:** `admin@kku.edu.sa`
   - **ููุน ุงููุณุชุฎุฏู:** ูุดุฑู | Supervisor
   - **ูููุฉ ุงููุฑูุฑ:** `123456` (ุฃู ุฃู ูููุฉ ูููุฉ)
4. ุงุถุบุท **ุชุณุฌูู**

### 2.2 ุญุณุงุจ ุงููุนูู | Teacher Account

1. ุงุฐูุจ ุฅูู **"ุงูุชุณุฌูู" / Register**
2. ุงููุฃ ุงูุจูุงูุงุช:
   - **ุงูุงุณู ุงููุงูู:** ุฏ. ูุญูุฏ ุฃุญูุฏ
   - **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:** `teacher@kku.edu.sa`
   - **ููุน ุงููุณุชุฎุฏู:** ูุฏุฑุณ | Teacher
   - **ูููุฉ ุงููุฑูุฑ:** `123456`
3. ุงุถุบุท **ุชุณุฌูู**

### 2.3 ุญุณุงุจ ุงูุทุงูุจ | Student Account

1. ุงุฐูุจ ุฅูู **"ุงูุชุณุฌูู" / Register**
2. ุงููุฃ ุงูุจูุงูุงุช:
   - **ุงูุงุณู ุงููุงูู:** ุฎุงูุฏ ุนุจุฏุงููู
   - **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:** `student@kku.edu.sa`
   - **ููุน ุงููุณุชุฎุฏู:** ุทุงูุจ | Student
   - **ุงูุฑูู ุงูุฌุงูุนู:** `442100001` โ๏ธ **ูุทููุจ ููุทูุงุจ**
   - **ูููุฉ ุงููุฑูุฑ:** `123456`
3. ุงุถุบุท **ุชุณุฌูู**

---

## ๐ ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

ุจุนุฏ ุชุณุฌูู ุงููุณุชุฎุฏูููุ ุฃุถู ุจูุงูุงุช ุชุฌุฑูุจูุฉ (ููุงุฏุ ุฌุฏุงููุ ุฌูุณุงุช):

1. ุงูุชุญ SQL Editor ูู Supabase ูุฑุฉ ุฃุฎุฑู:
   ```
   https://supabase.com/dashboard/project/bscxhshnubkhngodruuj/sql
   ```

2. ุงูุชุญ ููู `/SAMPLE-DATA.sql`

3. **ุงูุณุฎ ูู ุงููุญุชูู**

4. **ุงูุตู ูู SQL Editor**

5. ุงุถุบุท **Run**

6. ุงูุชุธุฑ ุญุชู ุชุธูุฑ ุฑุณุงุฆู ุงููุฌุงุญ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
โ ุชู ุฅุถุงูุฉ ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ ุจูุฌุงุญ
โ ุชู ุฅุถุงูุฉ ุงูุดุนุจ ุจูุฌุงุญ
โ ุชู ุฅุถุงูุฉ ุงูุฌุฏุงูู ุงูุฏุฑุงุณูุฉ ุจูุฌุงุญ
โ ุชู ุฅุถุงูุฉ ุงูุฌูุณุงุช ุงูุชุฌุฑูุจูุฉ ุจูุฌุงุญ

๐ ููุฎุต ุงูุจูุงูุงุช:
ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ: 4
ุงูุดุนุจ: 4
ุงูุฌุฏุงูู: 8
ุงูุฌูุณุงุช: 3
ุงููุณุชุฎุฏููู: 3
```

---

## ๐ฏ ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุงููุธุงู

### 4.1 ุงุฎุชุจุงุฑ ููุญุฉ ุงููุนูู | Test Teacher Dashboard

1. ุณุฌูู ุฎุฑูุฌ (ุฅู ููุช ูุณุฌู ุฏุฎูู)
2. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ ุงููุนูู:
   - **ุงูุจุฑูุฏ:** `teacher@kku.edu.sa`
   - **ูููุฉ ุงููุฑูุฑ:** `123456`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
   - โ ุชุฑู 4 ููุงุฏ ุฏุฑุงุณูุฉ
   - โ ุชุฑู ุงูุฌูุณุงุช ุงููุดุทุฉ
   - โ ููููู ุฅูุดุงุก ุฌูุณุฉ ุญุถูุฑ ุฌุฏูุฏุฉ

### 4.2 ุงุฎุชุจุงุฑ ููุญุฉ ุงูุทุงูุจ | Test Student Dashboard

1. ุณุฌูู ุฎุฑูุฌ
2. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ ุงูุทุงูุจ:
   - **ุงูุจุฑูุฏ:** `student@kku.edu.sa`
   - **ูููุฉ ุงููุฑูุฑ:** `123456`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
   - โ ุชุฑู ุงูุฌุฏุงูู ุงูุฏุฑุงุณูุฉ
   - โ ุชุฑู ูุณุจุฉ ุงูุญุถูุฑ
   - โ ููููู ุชุณุฌูู ุงูุญุถูุฑ ูู ุงูุฌูุณุงุช ุงูููุชูุญุฉ

### 4.3 ุงุฎุชุจุงุฑ ููุญุฉ ุงููุดุฑู | Test Supervisor Dashboard

1. ุณุฌูู ุฎุฑูุฌ
2. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ ุงููุดุฑู:
   - **ุงูุจุฑูุฏ:** `admin@kku.edu.sa`
   - **ูููุฉ ุงููุฑูุฑ:** `123456`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
   - โ ุชุฑู ูู ุงูููุงุฏ ูุงูุฌูุณุงุช
   - โ ุชุฑู ูุงุฆูุฉ ุงููุณุชุฎุฏููู
   - โ ุชุฑู ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก | Troubleshooting

### โ ุงููุดููุฉ: "Email not confirmed"

**ุงูุญู:**
1. ุงูุชุญ ุฅุนุฏุงุฏุงุช Auth ูู Supabase
2. ุชุฃูุฏ ูู ุชุนุทูู "Enable email confirmations"
3. ุงุญูุธ ูุฃุนุฏ ุงููุญุงููุฉ

### โ ุงููุดููุฉ: "ูุง ุชูุฌุฏ ุจูุงูุงุช" ุฃู "No data"

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชุดุบูู `/COMPLETE-DATABASE-SETUP.sql` ุจูุฌุงุญ
2. ุชุฃูุฏ ูู ุชุณุฌูู ุงููุณุชุฎุฏููู ุงูุซูุงุซุฉ
3. ุชุฃูุฏ ูู ุชุดุบูู `/SAMPLE-DATA.sql` ุจูุฌุงุญ
4. ุงูุชุญ SQL Editor ูุดุบูู:
   ```sql
   SELECT * FROM public.courses;
   SELECT * FROM public.profiles;
   ```
   ูู ุงููุชูุฌุฉ ูุงุฑุบุฉุ ูุฑุฑ ุงูุฎุทูุงุช ุงูุณุงุจูุฉ

### โ ุงููุดููุฉ: "Database not ready - PGRST205"

**ุงูุญู:**
- ูุฐุง ูุนูู ุฃู Schema ูู ูุชู ุชุทุจููู
- ุงูุชุญ `/COMPLETE-DATABASE-SETUP.sql` ูุดุบููู ูุฑุฉ ุฃุฎุฑู

### โ ุงููุดููุฉ: "ุงูุฑูู ุงูุฌุงูุนู ูุทููุจ ููุทูุงุจ"

**ุงูุญู:**
- ูุฐุง ุทุจูุนู! ุงูุทูุงุจ ููุท ูุฌุจ ุนูููู ุฅุฏุฎุงู ุงูุฑูู ุงูุฌุงูุนู
- ุงููุนูููู ูุงููุดุฑููู ูุง ูุญุชุงุฌูู ุฑูู ุฌุงูุนู

---

## ๐ฑ ููุฒุงุช ุงููุธุงู | System Features

### โจ ููุทูุงุจ | For Students
- โ ุนุฑุถ ุงูุฌุฏุงูู ุงูุฏุฑุงุณูุฉ
- โ ุชุณุฌูู ุงูุญุถูุฑ (ููุฏุ QRุ ุจุตูุฉ)
- โ ุนุฑุถ ูุณุจุฉ ุงูุญุถูุฑ
- โ ุนุฑุถ ุณุฌู ุงูุญุถูุฑ

### โจ ูููุนูููู | For Teachers
- โ ุฅูุดุงุก ุฌูุณุงุช ุญุถูุฑ
- โ ุชูููุฏ ุฃููุงุฏ QR
- โ ุนุฑุถ ูุงุฆูุฉ ุงูุญุถูุฑ
- โ ุชูุงุฑูุฑ ุงูุญุถูุฑ ููู ูุงุฏุฉ

### โจ ูููุดุฑููู | For Supervisors
- โ ุนุฑุถ ูู ุงูููุงุฏ ูุงููุนูููู
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- โ ุชูุงุฑูุฑ ุดุงููุฉ
- โ ุฅุญุตุงุฆูุงุช ุงููุธุงู

---

## ๐ ุงูุฃูุงู | Security

- โ Row Level Security (RLS) ูููุนูู ุนูู ูู ุงูุฌุฏุงูู
- โ ูู ูุณุชุฎุฏู ูุฑู ุจูุงูุงุชู ููุท
- โ ุงููุนูููู ูุฏูุฑูู ููุงุฏูู ููุท
- โ ุงููุดุฑููู ูุฏููู ุตูุงุญูุงุช ูุงููุฉ
- โ ุงูุจุฑูุฏ ุงูุฌุงูุนู (@kku.edu.sa) ูุทููุจ ููุชุณุฌูู

---

## ๐จ ุชุฎุตูุต ุงููุธุงู | Customization

### ุชุบููุฑ ุงูุฃููุงู | Change Colors

ุงูุฃููุงู ุงูุฃุณุงุณูุฉ ูุญููุธุฉ ูู `/styles/globals.css`:
- `--primary`: `#0B3D2E` (ุงูุฃุฎุถุฑ ุงูุฏุงูู)
- `--secondary`: `#1ABC9C` (ุงูุฃุฎุถุฑ ุงููุงุชุญ)

### ุฅุถุงูุฉ ููุงุฏ ุฌุฏูุฏุฉ | Add New Courses

1. ุณุฌูู ุฏุฎูู ููุนูู
2. ุงุฐูุจ ุฅูู "ุฅูุดุงุก ุฌูุณุฉ"
3. ุฃู ุฃุถู ุนุจุฑ SQL:
   ```sql
   INSERT INTO public.courses (code, name, instructor_id)
   VALUES ('CIS999', 'ูุงุฏุฉ ุฌุฏูุฏุฉ', 'ูุนุฑู_ุงููุนูู');
   ```

---

## ๐ ุงูุฏุนู | Support

ูู ุญุงู ูุงุฌูุช ุฃู ูุดููุฉ:

1. **ุฑุงุฌุน ููู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ:**
   - `/โ๏ธ-FIX-THIS-FIRST.md`
   - `/QUICK-FIX.md`

2. **ุชุญูู ูู Console ูู ุงููุชุตูุญ:**
   - ุงูุชุญ Developer Tools (F12)
   - ุชุญูู ูู ุฑุณุงุฆู ุงูุฃุฎุทุงุก

3. **ุฑุงุฌุน Supabase Logs:**
   - ุงูุชุญ ููุญุฉ ุชุญูู Supabase
   - ุงุฐูุจ ุฅูู Logs

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ | Final Checklist

ูุจู ุงูุงูุชูุงุกุ ุชุฃูุฏ ูู:

- [x] ุชุนุทูู Email Confirmation ูู Supabase
- [x] ุชุทุจูู `/COMPLETE-DATABASE-SETUP.sql` ุจูุฌุงุญ
- [x] ุชุณุฌูู 3 ูุณุชุฎุฏููู (ูุดุฑูุ ูุนููุ ุทุงูุจ)
- [x] ุชุทุจูู `/SAMPLE-DATA.sql` ุจูุฌุงุญ
- [x] ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู ูููุณุชุฎุฏููู ุงูุซูุงุซุฉ
- [x] ุธููุฑ ุงูุจูุงูุงุช (ููุงุฏุ ุฌุฏุงููุ ุฌูุณุงุช) ุจุดูู ุตุญูุญ

---

## ๐ ุชูุงูููุง!

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**

ููููู ุงูุขู:
- โจ ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงููุณุชุฎุฏููู
- โจ ุฅูุดุงุก ุงููุฒูุฏ ูู ุงูููุงุฏ ูุงูุฌูุณุงุช
- โจ ุชุณุฌูู ุงูุญุถูุฑ
- โจ ุนุฑุถ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

---

## ๐ ูููุงุช ูููุฏุฉ | Useful Files

- `/COMPLETE-DATABASE-SETUP.sql` - ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงูู
- `/SAMPLE-DATA.sql` - ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
- `/database/schema.sql` - Schema ูุงูู ูุน ุชูุงุตูู
- `/lib/supabase.ts` - ุงุชุตุงู Supabase
- `/components/AuthPage.tsx` - ุตูุญุฉ ุงูุชุณุฌูู ูุงูุฏุฎูู

---

**ุตููุน ุจู โค๏ธ ูุฌุงูุนุฉ ุงูููู ุฎุงูุฏ**

**Made with โค๏ธ for King Khalid University**
