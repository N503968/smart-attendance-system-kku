# ๐ ุฏููู ุงููุดุฑ ุงููุงูู - ูุธุงู ุงูุญุถูุฑ ุงูุฐูู KKU

## ๐ ูุงุฆูุฉ ุงูุชุญูู ูุจู ุงููุดุฑ

- โ ุญุณุงุจ Supabase ุฌุงูุฒ ูููุนูู
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุดุฃุฉ ุจุงููุงูู
- โ ุณูุงุณุงุช RLS ููุนููุฉ
- โ Edge Functions ููุดูุฑุฉ (ููุจุตูุฉ ุงูุจูููุชุฑูุฉ)
- โ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ูุถุงูุฉ

---

## ๐๏ธ ุงูุฎุทูุฉ 1: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช Supabase

### A. ุงููุตูู ุฅูู ููุญุฉ ุงูุชุญูู

1. ุงูุชุญ https://supabase.com/dashboard
2. ุณุฌู ุงูุฏุฎูู ุจุงูุจุฑูุฏ: **mnafisah668@gmail.com**
3. ุงุฎุชุฑ ุงููุดุฑูุน: **bscxhshnubkhngodruuj**

### B. ุชูููุฐ ุณูุฑูุจุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ **SQL Editor**
2. ุงููุฑ **New query**
3. ุงูุชุญ ููู `/database/schema.sql`
4. ุงูุณุฎ **ูู** ุงููุญุชูู ูุงูุตูู
5. ุงููุฑ **Run** (ุฃู Ctrl+Enter)
6. ุงูุชุธุฑ ุญุชู ุชุธูุฑ ุฑุณุงูุฉ "Success"

โ **ุชู ุฅูุดุงุก:**
- 8 ุฌุฏุงูู ุฑุฆูุณูุฉ
- ุณูุงุณุงุช RLS ุนูู ุฌููุน ุงูุฌุฏุงูู
- Indexes ููุฃุฏุงุก
- Triggers ููุชุญุฏูุซุงุช ุงูุชููุงุฆูุฉ

### C. ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

1. ุงูุชุญ SQL Editor โ New query
2. ุงูุชุญ ููู `/database/sample-data.sql`
3. ุงูุณุฎ **ุงููุณู ุงูุฃูู ููุท** (Allowed Students)
4. ููุฐ ุงูุงุณุชุนูุงู

โ **ุชูุช ุฅุถุงูุฉ 10 ุฃุฑูุงู ุฌุงูุนูุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู**

---

## ๐ฅ ุงูุฎุทูุฉ 2: ุฅูุดุงุก ุงููุณุชุฎุฏููู

### A. ุฅูุดุงุก ุญุณุงุจ ูุฏูุฑ (Admin)

1. ุดุบูู ุงูุชุทุจูู ูุญููุงู: `npm run dev`
2. ุงูุชุญ http://localhost:5173
3. ุงุถุบุท ุนูู **"ุงูุชุณุฌูู"**
4. ุฃุฏุฎู:
   - ุงูุงุณู: ุฏ. ุฃุญูุฏ ูุญูุฏ
   - ุงูุจุฑูุฏ: admin@kku.edu.sa
   - ูููุฉ ุงููุฑูุฑ: Admin@123
   - (ูุง ุชุฏุฎู ุฑูู ุฌุงูุนู - ุงุชุฑูู ูุงุฑุบุงู)
5. ุณุฌูู ุงูุญุณุงุจ

6. **ุชุญุฏูุซ ุงูุฏูุฑ ุฅูู Admin:**
   - ุงุฑุฌุน ุฅูู Supabase Dashboard
   - ุงูุชุญ **Table Editor** โ **profiles**
   - ุงุจุญุซ ุนู admin@kku.edu.sa
   - ุนุฏูู `role` ูู `student` ุฅูู **`admin`**
   - ุงุญูุธ

### B. ุฅูุดุงุก ุญุณุงุจ ูุฏุฑุณ (Instructor)

1. ุณุฌูู ุฎุฑูุฌ ูู ุงูุญุณุงุจ ุงูุญุงูู
2. ุงุถุบุท **"ุงูุชุณุฌูู"**
3. ุฃุฏุฎู:
   - ุงูุงุณู: ุฏ. ูุงุทูุฉ ุงูุนูุฑู
   - ุงูุจุฑูุฏ: instructor@kku.edu.sa
   - ูููุฉ ุงููุฑูุฑ: Teacher@123
4. ุนุฏูู `role` ูู ุฌุฏูู profiles ุฅูู **`instructor`**

### C. ุฅูุดุงุก ุญุณุงุจ ุทุงูุจ (Student)

1. ุงุถุบุท **"ุงูุชุณุฌูู"**
2. ุฃุฏุฎู:
   - ุงูุงุณู: ุฎุงูุฏ ุฃุญูุฏ ุงูุณุงูู
   - ุงูุจุฑูุฏ: student@kku.edu.sa
   - **ุงูุฑูู ุงูุฌุงูุนู: 442100001**
   - ูููุฉ ุงููุฑูุฑ: Student@123
3. ุณุฌูู (ูู ุชุญุชุงุฌ ุชุนุฏูู - ุงูุฏูุฑ student ุงูุชุฑุงุถูุงู)

โ **ุงูุขู ูุฏูู 3 ุญุณุงุจุงุช ุฌุงูุฒุฉ ููุงุฎุชุจุงุฑ!**

---

## ๐ ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ ููุงุฏ ูุฌุฏุงูู

### A. ุฅุถุงูุฉ ูุงุฏุฉ ุฏุฑุงุณูุฉ

1. ุณุฌูู ุฏุฎูู ูู **ูุฏุฑุณ** (instructor@kku.edu.sa)
2. ูู Supabase Dashboard:
   - ุงูุชุญ **Table Editor** โ **profiles**
   - ุงูุณุฎ **id** ุงูุฎุงุต ุจุงููุฏุฑุณ (UUID)

3. ุงูุชุญ **SQL Editor** ูุงุณุชุจุฏู `INSTRUCTOR_UUID_HERE`:

```sql
INSERT INTO public.courses (code, name, instructor_id) VALUES
  ('CS101', 'ููุฏูุฉ ูู ุนููู ุงูุญุงุณุจ', 'INSTRUCTOR_UUID_HERE'),
  ('CS201', 'ููุงุนุฏ ุงูุจูุงูุงุช', 'INSTRUCTOR_UUID_HERE'),
  ('CS301', 'ููุฏุณุฉ ุงูุจุฑูุฌูุงุช', 'INSTRUCTOR_UUID_HERE');
```

4. ููุฐ ุงูุงุณุชุนูุงู

### B. ุฅุถุงูุฉ ุดุนุจ (Sections)

1. ุงุญุตู ุนูู **course_id** ูู ุฌุฏูู courses
2. ููุฐ:

```sql
INSERT INTO public.sections (course_id, name) VALUES
  ('COURSE_UUID_1', 'SEC-1'),
  ('COURSE_UUID_1', 'SEC-2');
```

### C. ุฅุถุงูุฉ ุฌุฏุงูู

```sql
INSERT INTO public.schedules (section_id, day_of_week, start_time, end_time, location) VALUES
  ('SECTION_UUID', 0, '08:00:00', '10:00:00', 'ูุงุนุฉ A101'),
  ('SECTION_UUID', 2, '10:00:00', '12:00:00', 'ูุงุนุฉ A101');
```

**day_of_week:**
- 0 = ุงูุฃุญุฏ
- 1 = ุงูุงุซููู
- 2 = ุงูุซูุงุซุงุก
- 3 = ุงูุฃุฑุจุนุงุก
- 4 = ุงูุฎููุณ

---

## ๐ ุงูุฎุทูุฉ 4: ูุดุฑ Edge Functions (ููุจุตูุฉ ุงูุจูููุชุฑูุฉ)

### A. ุชุซุจูุช Supabase CLI

```bash
npm install -g supabase
```

### B. ุชุณุฌูู ุงูุฏุฎูู

```bash
supabase login
```

ุณููุชุญ ุงููุชุตูุญ - ุณุฌู ุฏุฎูู ุจุญุณุงุจู

### C. ุฑุจุท ุงููุดุฑูุน

```bash
supabase link --project-ref bscxhshnubkhngodruuj
```

### D. ุฅูุดุงุก Edge Functions

1. ุฃูุดุฆ ูุฌูุฏ:
```bash
mkdir -p supabase/functions
```

2. ุฑุงุฌุน `/database/edge-functions-guide.md` ููููุฏ ุงููุงูู

3. ุฃูุดุฆ ุงูุฏูุงู ุงูุฃุฑุจุน:
   - webauthn-register-challenge
   - webauthn-register-verify
   - webauthn-assert-challenge
   - webauthn-assert-verify

### E. ูุดุฑ ุงูุฏูุงู

```bash
supabase functions deploy webauthn-register-challenge
supabase functions deploy webauthn-register-verify
supabase functions deploy webauthn-assert-challenge
supabase functions deploy webauthn-assert-verify
```

โ **ุงูุจุตูุฉ ุงูุจูููุชุฑูุฉ ุฌุงูุฒุฉ ููุนูู!**

---

## ๐ ุงูุฎุทูุฉ 5: ูุดุฑ ุงููุงุฌูุฉ (Frontend)

### ุงูุฎูุงุฑ 1: Vercel (ููุตู ุจู)

1. **ุฑูุน ุงูููุฏ ุนูู GitHub:**
```bash
git init
git add .
git commit -m "Initial commit - KKU Attendance System"
git branch -M main
git remote add origin YOUR_GITHUB_REPO
git push -u origin main
```

2. **ุฑุจุท Vercel:**
   - ุงุฐูุจ ุฅูู https://vercel.com
   - ุงููุฑ **New Project**
   - ุงุฎุชุฑ ูุณุชูุฏุน GitHub
   - Vercel ุณููุชุดู ุฅุนุฏุงุฏุงุช React ุชููุงุฆูุงู
   - ุงููุฑ **Deploy**

3. **ุงูุฅุนุฏุงุฏุงุช ุงูุชููุงุฆูุฉ:**
   - Build Command: `npm run build`
   - Output Directory: `dist`
   - Install Command: `npm install`

โ **ุฑุงุจุท ุงูุชุทุจูู ุณูููู ุฌุงูุฒุงู ูู ุฏูุงุฆู!**

### ุงูุฎูุงุฑ 2: Netlify

1. **ุจูุงุก ุงูุชุทุจูู:**
```bash
npm run build
```

2. **ุงููุดุฑ:**
```bash
npm install -g netlify-cli
netlify login
netlify deploy --prod
```

3. ุงุฎุชุฑ ูุฌูุฏ `dist`

---

## ๐งช ุงูุฎุทูุฉ 6: ุงุฎุชุจุงุฑ ุงููุธุงู

### A. ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู

1. ุงูุชุญ ุงูุฑุงุจุท ุงูููุดูุฑ
2. ุณุฌูู ุฏุฎูู ุจูู ุฏูุฑ:
   - โ admin@kku.edu.sa
   - โ instructor@kku.edu.sa
   - โ student@kku.edu.sa

### B. ุงุฎุชุจุงุฑ ุฏูุฑ ุงููุฏุฑุณ

1. ุณุฌูู ุฏุฎูู ููุฏุฑุณ
2. ุงุฐูุจ ุฅูู **"ุฅูุดุงุก ุฌูุณุฉ ุญุถูุฑ"**
3. ุงุฎุชุฑ ูุงุฏุฉ
4. ูููุฏ ููุฏ
5. ุงุญูุธ ุงูููุฏ

### C. ุงุฎุชุจุงุฑ ุฏูุฑ ุงูุทุงูุจ

1. ุณุฌูู ุฏุฎูู ูุทุงูุจ
2. ุงุฐูุจ ุฅูู **"ุชุณุฌูู ุงูุญุถูุฑ"**
3. ุฃุฏุฎู ุงูููุฏ
4. ุชุญูู ูู ุธููุฑ ุงูุญุถูุฑ ูู ุงูุชูุงุฑูุฑ

### D. ุงุฎุชุจุงุฑ ุงูุจุตูุฉ ุงูุจูููุชุฑูุฉ

1. ุณุฌูู ุฏุฎูู ูุทุงูุจ
2. ุงุฐูุจ ุฅูู ุงูููู ุงูุดุฎุตู
3. ุงุถุบุท **"ุชุณุฌูู ุงูุจุตูุฉ"**
4. ุงุชุจุน ุชุนูููุงุช ุงููุชุตูุญ
5. ุฌุฑูุจ ุงูุญุถูุฑ ุจุงูุจุตูุฉ

---

## ๐ ุงูุฎุทูุฉ 7: ุฅุนุฏุงุฏ Realtime

Realtime ููุนูู ุงูุชุฑุงุถูุงู ูู Supabase!

### ุงูุชุญูู ูู ุนููู:

1. ุงูุชุญ ุฌูุณุชูู ูููุตูุชูู (ูุชุตูุญูู ูุฎุชูููู)
2. ุณุฌูู ุฏุฎูู ุจุญุณุงุจูู (ูุฏุฑุณ ูุทุงูุจ)
3. ุงููุฏุฑุณ: ุฃูุดุฆ ุฌูุณุฉ
4. ุงูุทุงูุจ: ุณุฌูู ุญุถูุฑ
5. ูุฌุจ ุฃู ูุธูุฑ ุงูุชุญุฏูุซ **ููุฑุงู** ุนูุฏ ุงููุฏุฑุณ

---

## ๐จ ุงูุฎุทูุฉ 8: ุชุฎุตูุต ุงูุชุตููู (ุงุฎุชูุงุฑู)

### ุชุบููุฑ ุงูุฃููุงู

ุนุฏูู `/styles/globals.css`:

```css
:root {
  --primary: #YOUR_COLOR;
  --secondary: #YOUR_COLOR;
}
```

### ุชุบููุฑ ุงูุฎุทูุท

```css
body {
  font-family: 'YourFont', 'Cairo', sans-serif;
}
```

---

## ๐ ุงูุฎุทูุฉ 9: ุงูุฃูุงู ุงูููุงุฆู

### A. ุชูุนูู Email Verification (ุงุฎุชูุงุฑู)

1. Supabase Dashboard โ Authentication โ Settings
2. ูุนูู **"Enable email confirmations"**

### B. ุชุญุฏูุฏ ูุนุฏู ุงูุทูุจุงุช (Rate Limiting)

1. Authentication โ Settings โ Rate Limits
2. ุถุน ุญุฏ ูุนููู (ูุซูุงู: 5 ูุญุงููุงุช / ุณุงุนุฉ)

### C. ุชูุนูู 2FA ูููุฏุฑุงุก (ููุตู ุจู)

```sql
UPDATE auth.users 
SET email_confirmed_at = NOW()
WHERE email IN ('admin@kku.edu.sa', 'instructor@kku.edu.sa');
```

---

## ๐ฑ ุงูุฎุทูุฉ 10: ุชุทุจูู ุงูุฌูุงู (ุงุฎุชูุงุฑู - ูุณุชูุจูู)

ูููู ุชุญููู ุงููุธุงู ุฅูู ุชุทุจูู ุฌูุงู ุจุงุณุชุฎุฏุงู:
- **React Native** ูุน ููุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **PWA** (Progressive Web App) ุจุฅุถุงูุฉ Service Worker

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

ูุจู ุงูุชุณููู ุงูููุงุฆูุ ุชุฃูุฏ ูู:

- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู ุจุฏูู ุฃุฎุทุงุก
- โ ุฌููุน ุงูุฃุฏูุงุฑ (Admin, Instructor, Student) ุชุนูู
- โ RLS ูููุน ุงููุตูู ุบูุฑ ุงููุตุฑุญ
- โ ุงูุจุตูุฉ ุงูุจูููุชุฑูุฉ ุชุนูู (ุฅุฐุง ุชู ุชูุนูููุง)
- โ ุงูุชูุงุฑูุฑ ุชูุนุฑุถ ุจุดูู ุตุญูุญ
- โ ุงูุชุจุฏูู ุจูู ุงูุนุฑุจูุฉ/ุงูุฅูุฌููุฒูุฉ ูุนูู
- โ ุงููุถุน ุงููููู/ุงูููุงุฑู ูุนูู
- โ ุงูุชุทุจูู responsive ุนูู ุงูุฌูุงู
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู console ุงููุชุตูุญ
- โ ุฑุงุจุท ุงูุชุทุจูู ุงูููุดูุฑ ูุนูู

---

## ๐ ุงูุฏุนู ูุงููุชุงุจุนุฉ

### ุชุณุฌูู ุงููุดุงูู

ุฅุฐุง ูุงุฌูุช ูุดููุฉ:
1. ุงูุชุญ **Supabase Logs** ููุจุญุซ ุนู ุงูุฃุฎุทุงุก
2. ุงูุญุต **Browser Console** (F12)
3. ุชุญูู ูู **RLS Policies**
4. ุฑุงุฌุน **Schema.sql**

### ููุงุฑุฏ ูููุฏุฉ

- Supabase Docs: https://supabase.com/docs
- React Docs: https://react.dev
- Tailwind: https://tailwindcss.com
- WebAuthn: https://webauthn.guide

---

## ๐ ุงููุณููุงุช ุงูููุงุฆูุฉ

ุนูุฏ ุงูุชุณูููุ ูุฏูู:

1. โ **ุงูุฑุงุจุท ุงููุจุงุดุฑ** ููุชุทุจูู
2. โ **ุจูุงูุงุช ุงูุฏุฎูู:**
   - Admin: admin@kku.edu.sa / Admin@123
   - Instructor: instructor@kku.edu.sa / Teacher@123
   - Student: student@kku.edu.sa / Student@123
3. โ **ุฑุงุจุท GitHub Repository**
4. โ **ุจูุงูุงุช Supabase:**
   - Project ID: bscxhshnubkhngodruuj
   - ุงูุจุฑูุฏ: mnafisah668@gmail.com
5. โ **ูููุงุช SQL** (schema + sample-data)
6. โ **ูุฐุง ุงูุฏููู** (DEPLOYMENT.md)
7. โ **ุฏููู ุงููุณุชุฎุฏู** (README.md + SETUP-AR.md)

---

**๐ ุชูุงูููุง! ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุฌุงูุนุฉ ุงูููู ุฎุงูุฏ**

---

**Smart Attendance & Scheduling System**  
**King Khalid University - 2025**
